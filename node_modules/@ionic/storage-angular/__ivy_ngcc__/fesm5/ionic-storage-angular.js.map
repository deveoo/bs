{"version":3,"file":"ionic-storage-angular.js","sources":["ng:/@ionic/storage-angular/index.ts","ng:/@ionic/storage-angular/ionic-storage-angular.ts"],"names":[],"mappings":";;;;;;;IAQM,kBAAkB,GAAG,IAAI,cAAc,CAC3C,sBAAsB,EACtB;AAIF;AACiB,IADS,+BAAO;AAAC,IAChC;AACO,eAAL,iBAAO;AAEP,KADD;AACH,IAAQ,4BAAM,GAAZ;AAAc;AAKR;AAGF,gBAPF,sBAAO,IAAI,EAAC;AAChB;AACY;AAAY,KADrB;AACF,IAAO,kCAAY,GAAlB;AAAc;AAGA;AAGZ;AACF;AAAgB;AAAY,KAN3B;AACF,IAAC,sBAAI,+BAAM;AAAI,aAAd;AAAc,YACZ,OAAO,MAAM,CAAC;AAClB,SAAG;AACF;AAA0B;AACf,OAFT;AACH,IAAQ,yBAAG,GAAT,UAAU,GAAW;AAAI;AAG3B,YAH2B,sBAAO,IAAI,EAAC;AAAC;AAC1B,KAD2B;AACxC,IAAO,yBAAG,GAAT,UAAU,GAAW,EAAE,KAAU;AAAI;AAGpB;AACb;AAAgB,KAJkB;AACvC,IAAO,4BAAM,GAAZ,UAAa,GAAW;AAAI;AAG3B;AACM;AAAgB,KAJoB;AAC5C,IAAO,2BAAK,GAAX;AAAc;AAGV;AAAmC;AAAgB,KAHvB;AACjC,IAAO,4BAAM,GAAZ;AAAc;AAEyB,YAFL,sBAAO,CAAC,EAAC;AAAC;AAChC,KADiC;AAC9C,IAAO,0BAAI,GAAV;AAAc;AACyE,YADxE,sBAAO,EAAE,EAAA;AAAC;AACb,KADc;AAC3B,IAAO,6BAAO,GAAb,UAAc,gBAA2E;AAAI;AAKjF;AAET;AAAgB,KAP0F;AAC9G,IAAC,sCAAgB,GAAhB,UAAiB,GAAW,KAAK;AAClC,IAAD,kBAAC;AAAD,CApBA,CAA0B,OAAO,GAoBhC;AACD,SACgB,cAAc,CAC5B,aAA4B;AAC3B,IACD,IAAI,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;AACzC;AACI,QAAA,OAAO,IAAI,WAAW,EAAE,CAAC;AAC7B,KAAG;AACH,IACE,OAAO,IAAI,OAAO,CAAC,aAAa,CAAC,CAAC;AACpC,CAAC;AACD;AAGO,IADP;AAAgC,KAc/B;AACD,2BAfa,kBAAkB;AAAE,IACxB,0BAAO,GAAd,UAAe,aAAmC;AAAI,QAAvC,8BAAA,EAAA,oBAAmC;AAAI,QACpD,OAAO;AACX,YAAM,QAAQ,EAAE,oBAAkB;AAClC,YAAM,SAAS,EAAE;AACjB,gBAAQ,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,aAAa,EAAE;AAChE,gBAAQ;AACR,oBAAU,OAAO,EAAE,OAAO;AAC1B,oBAAU,UAAU,EAAE,cAAc;AACpC,oBAAU,IAAI,EAAE,CAAC,kBAAkB,CAAC;AACpC,iBAAS;AACT,aAAO;AACP,SAAK,CAAC;AACN,KAAG;AACF;IAdY,kBAAkB,+CAD9B,QAAQ,EAAE;MACE,kBAAkB,CAc9B;;;gDACD;AAAC,IADD,yBAAC;AACA,CAfD;AAAK;AChDL;AACA;AACA;AACA;AACA;AAC0C","sourcesContent":["import { NgModule, ModuleWithProviders, PLATFORM_ID, InjectionToken } from '@angular/core';\n\nimport {\n  Storage,\n  StorageConfig\n} from '@ionic/storage';\nimport { isPlatformServer } from '@angular/common';\n\nconst StorageConfigToken = new InjectionToken<any>(\n  'STORAGE_CONFIG_TOKEN'\n);\n\nexport { StorageConfig, StorageConfigToken, Storage };\n\nclass NoopStorage extends Storage {\n  constructor() {\n    super();\n  }\n  async create() {\n    return this;\n  }\n  async defineDriver() {\n  }\n  get driver(): string | null {\n    return 'noop';\n  }\n  async get(key: string) { return null; }\n  async set(key: string, value: any) { }\n  async remove(key: string): Promise<any> { }\n  async clear(): Promise<void> { }\n  async length(): Promise<number> { return 0; }\n  async keys() { return [] }\n  async forEach(iteratorCallback: (value: any, key: string, iterationNumber: Number) => any): Promise<void> { }\n  setEncryptionKey(key: string) { }\n}\n\nexport function provideStorage(\n  storageConfig: StorageConfig\n): Storage {\n  if (isPlatformServer(this.platformId)) {\n    // When running in a server context return the NoopStorage\n    return new NoopStorage();\n  }\n\n  return new Storage(storageConfig);\n}\n\n@NgModule()\nexport class IonicStorageModule {\n  static forRoot(storageConfig: StorageConfig = null): ModuleWithProviders<IonicStorageModule> {\n    return {\n      ngModule: IonicStorageModule,\n      providers: [\n        { provide: StorageConfigToken, useValue: storageConfig },\n        {\n          provide: Storage,\n          useFactory: provideStorage,\n          deps: [StorageConfigToken]\n        }\n      ]\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}