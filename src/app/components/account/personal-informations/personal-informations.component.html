<!--
  - Cart Screen
  - @author    ThemesBuckets <themebucketbd@gmail.com>
  - @copyright Copyright (c) 2020
  - @license   ThemesBuckets
-->

<!-- Header -->
<ion-header class="ion-no-border">
  <ion-toolbar>
      <!-- Back to previous page -->
      <ion-buttons slot="start">
          <ion-back-button color="color1" default-href="" (click)="dismiss()" text="" icon="arrow-back">
          </ion-back-button>
      </ion-buttons>

      <!-- Page title -->
      <ion-title>Personal Informations</ion-title>
  </ion-toolbar>
</ion-header>

<!-- Contents -->
<ion-content id="personalInformations" fullscreen>
  <ion-card>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label>Firstname : {{ user.firstname }}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Lastname : {{ user.lastname }}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Email : {{ user.email }}</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <div class="section_two">
    <form [formGroup]="personalInformationsForm">
      <ion-item> 
        <ion-label>
          <ion-icon name="person" color="color2"></ion-icon>
        </ion-label>
        <ion-input type="text" formControlName="firstname" placeholder="Firstname"></ion-input>
      </ion-item>
      <div class="error-container" *ngIf="personalInformationsForm.get('firstname').invalid && (personalInformationsForm.get('firstname').dirty || personalInformationsForm.get('firstname').touched)">
        <span *ngIf="personalInformationsForm.get('firstname').errors.required">
          Firstname is required
        </span>
      </div>
      <ion-item>
        <ion-label>
          <ion-icon name="person" color="color2"></ion-icon>
        </ion-label>
        <ion-input type="text" formControlName="lastname" placeholder="Lastname"></ion-input>
      </ion-item>
      <div class="error-container" *ngIf="personalInformationsForm.get('lastname').invalid && (personalInformationsForm.get('lastname').dirty || personalInformationsForm.get('lastname').touched)">
        <span *ngIf="personalInformationsForm.get('lastname').errors.required">
          Lastname is required
        </span>
      </div>

      <ion-item>
        <ion-label>
          <ion-icon name="mail" color="color2"></ion-icon>
        </ion-label>
        <ion-input type="text" formControlName="email" placeholder="Email"></ion-input>
      </ion-item>
      <div class="error-container" *ngIf="personalInformationsForm.get('email').invalid && (personalInformationsForm.get('email').dirty || personalInformationsForm.get('email').touched)">
        <span *ngIf="personalInformationsForm.get('email').errors.required">
          Email is required
        </span>
        <span *ngIf="personalInformationsForm.get('email').errors.pattern">
          Please enter a valid email address
        </span>
      </div>

      <ion-item>
        <ion-label>
          <ion-icon name="eye" color="color2"></ion-icon>
        </ion-label>
        <ion-input type="password" formControlName="password" placeholder="password"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>
          <ion-icon name="eye" color="color2"></ion-icon>
        </ion-label>
        <ion-input type="password" formControlName="newPassword" placeholder="New password"></ion-input>
      </ion-item>

      <ion-item class="birthdate">
        <ion-label>
          <ion-icon name="calendar" color="color2"></ion-icon>
          Birthdate
        </ion-label>
        <ion-datetime formControlName="birthdate"></ion-datetime>
      </ion-item>

      <div class="buttons ion-padding-top">
        <ion-button expand="block" color="color1" (click)="updateInformations()">
          <ion-text><strong>Save</strong></ion-text>
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>